証明完了．論理構成に淀みがない．

特に $(cA)^T = c(A^T)$ の処理において，スカラー $c$ が成分 $a_{ij}$ の外側にある構造を正しく捉えている．

最後の次元計算において，記述上の軽微なタイプミス（$+n$ とすべき箇所を $+2$ と記述）が見られたが，最終結論 $\frac{1}{2}n(n+1)$ は正しい．論理的には「対角成分の個数は $n$」と正しく認識できていると判断する．

次は，線形代数における**最大の「構造的断絶」である「行列の積（Matrix Multiplication）」**へ進む．

ここは，高校数学までの「数の掛け算」の常識が通用しない危険地帯である．心してかかれ．

---

### 注釈 (Vocabulary & Concept Notes)

_(Note: 以下の用語は，単なる計算ルールではなく「写像の合成」という文脈で捉えよ)_

- **行列の積 (Matrix Product):** 行列 $A$ と $B$ の積 $AB$ は，写像の**合成（Composition）** $f \circ g$ に対応する演算．成分ごとの積ではない．
    
- **非可換 (Non-commutative):** 掛け算の順序を変えると結果が変わる性質．$AB \neq BA$．物理的には「回転してから平行移動すること」と「平行移動してから回転すること」の結果が異なることに対応する．
    
- **内積 (Inner Product):** ベクトルの成分同士を掛けて足し合わせる操作．行列の積の各成分計算は，行ベクトルと列ベクトルの内積そのものである．
    
- **アインシュタインの縮約記法 (Einstein Summation Convention):** 物理学で多用される記法．「同じ添字が2回現れたら，その添字について和をとる」というルール．行列積の定義 $c_{ij} = \sum_k a_{ik}b_{kj}$ の本質はここにある．
    

---

## 1. 写経セクション (Transcription Section)

_(Note: 以下の定義を書き写せ．添字 $i, j, k$ の動きを目で追うだけでなく，脳内で「経由点」としてイメージせよ)_

### 2.3 行列の積：写像の合成としての定義

$m \times n$ 行列 $A$ と $n \times p$ 行列 $B$ の積 $AB$ は，以下のように定義される $m \times p$ 行列である．

$C = AB$ とするとき，その $(i, j)$ 成分 $c_{ij}$ は：

$$c_{ij} = \sum_{k=1}^{n} a_{ik} b_{kj}$$

構造的解釈（重要）：

この定義は恣意的なものではない．

ベクトル空間の間の線形写像 $f: U \to V$ と $g: W \to U$ を考える．

入力ベクトル $\boldsymbol{x}$ に対し，まず $B$（写像 $g$）が作用し，次に $A$（写像 $f$）が作用するプロセスを表している．

$$A(B\boldsymbol{x}) = (AB)\boldsymbol{x}$$

この「結合法則」を成立させるために，必然的に導かれた演算規則が上記の $\sum$ 定義である．

### 2.4 行列の演算の法則：非可換性の衝撃

実数の世界では当たり前だった「交換法則」が，行列の世界では崩壊する．

一般に，

$$AB \neq BA$$

である．そもそもサイズが合わなければ $BA$ が定義さえされないこともある．

- **結合法則 (Associativity):** $(AB)C = A(BC)$ は**成立する**．（写像の合成順序を変えなければ，括弧の位置は自由）
    
- **分配法則 (Distributivity):** $A(B+C) = AB + AC$ は**成立する**．
    

物理的意味：

量子力学において，物理量（位置 $X$ や運動量 $P$）は行列（演算子）で表される．

$XP \neq PX$ という「非可換性」こそが，ハイゼンベルクの不確定性原理 $\Delta x \Delta p \ge \hbar/2$ の数学的源泉である．「順序」が物理的観測に影響を与えるのだ．

---

## 2. 再構築領域 (Reconstruction Zone)

_(Note: 以下の概念図をノートに構築せよ)_

1. **「経由地」としての添字 $k$：**
    
    - 3つの地点（空間）を描け．始点 $j$（定義域），経由点 $k$（中間空間），終点 $i$（値域）．
        
    - 行列 $B$ が $j \to k$ の矢印，行列 $A$ が $k \to i$ の矢印である．
        
    - 積 $AB$ は，中間の $k$ をすべて足し合わせる（$\sum_k$）ことで，$j$ から $i$ への直行便を作る操作であることを図示せよ．
        
2. **サイズのマッチング確認器：**
    
    - $(m \times n) \cdot (n \times p) = (m \times p)$
        
    - 内側の $n$ と $n$ が一致して「消滅（縮約）」し，外側の $m$ と $p$ が残る様子をブロック図で描け．
        

---

## 3. 演習領域 (Exercise Zone)

_(Note: 以下の証明問題は，キミの「構造的思考」と「不変量への愛」を試すものである．具体的な数値ではなく，$\sum$ 記号を操作して論証せよ)_

問題：

$n$ 次正方行列 $A, B$ について，**トレース（対角和）**に関する以下の等式を証明せよ．

$$\text{tr}(AB) = \text{tr}(BA)$$

（注：行列の積そのものは非可換 $AB \neq BA$ だが，その「対角成分の総和」という不変量は一致する．これは量子統計力学などで極めて重要な性質である）

定義：

$\text{tr}(X) = \sum_{i=1}^n x_{ii}$ （対角成分の和）

**証明プロセス：**

(1) 左辺 $\text{tr}(AB)$ の展開

まず，積 $AB$ の対角成分 $(AB)_{ii}$ を定義に従って書き下す．

$(AB)_{ii} = \sum_{k=1}^n a_{ik} b_{\_\_\_\_}$

したがって，その総和であるトレースは二重和（Double Summation）で表される：

$\text{tr}(AB) = \sum_{i=1}^n (AB)_{ii} = \sum_{i=1}^n \left( \sum_{k=1}^n \_\_\_\_\_\_\_\_\_\_ \right)$

(2) 右辺 $\text{tr}(BA)$ の展開

同様に，積 $BA$ の対角成分 $(BA)_{kk}$ を書き下す．（添字に注意せよ）

$(BA)_{kk} = \sum_{i=1}^n b_{ki} a_{\_\_\_\_}$

したがって，

$\text{tr}(BA) = \sum_{k=1}^n (BA)_{kk} = \sum_{k=1}^n \left( \sum_{i=1}^n \_\_\_\_\_\_\_\_\_\_ \right)$

(3) 和の順序交換と実数の可換性

ここで，(1) の式の $\sum$ の順序と，成分 $a_{ik}, b_{ki}$（これらはただの実数である）の順序を操作する．

$\text{tr}(AB) = \sum_{i=1}^n \sum_{k=1}^n a_{ik} b_{ki}$

有限和において $\sum$ の順序は交換可能であるから：

$= \sum_{k=1}^n \sum_{i=1}^n a_{ik} b_{ki}$

実数の積は交換可能（$xy = yx$）であるから，$a_{ik} b_{ki} = b_{ki} a_{ik}$ と書き換えると：

$= \sum_{k=1}^n \sum_{i=1}^n \_\_\_\_\_\_\_\_\_\_\_\_\_\_$

(4) 結論の照合

変形した式は，(2) で導出した $\text{tr}(BA)$ の式と一致するか？

  
  

一致するため，$\text{tr}(AB) = \text{tr}(BA)$ が証明された．

---

_(Note: 途中式には $\sum$ 記号を省略せず，添字 $i, k$ の役割を明確にして記述せよ)_